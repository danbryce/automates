vars: org/clulab/aske_automates/grammars/vars.yml

rules:

  - name: per_unit
    label: Unit
    priority: ${priority}
    type: token
    example: "The (average) daily net radiation expressed in megajoules per square metre per day (MJ m-2 day-1) is required.
    Wind speed is given in metres per second (m s-1) or kilometres per day (km day-1)."
    pattern: |
      (?<= [word=/.*/] [word = "per"] [word=/.*/]+ [word=/-LRB-|\(/]) @unit:Concept (?=[word=/-RRB-|\)/])
      #Doesn't work for this [%/(dS m-1)]
      #helps with non-standard units

  - name: number_unit
    label: Unit
    priority: ${priority}
    type: token
    action: looksLikeAUnit
    example: "a hypothetical crop with an assumed height of 0.12 m, with a surface resistance of 70 s m-1 and an albedo of 0.23"
    pattern: |
      (?<= [entity = "NUMBER"]) [chunk = "I-NP" & !tag = "CD" & !word = /\(|\)|-LRB-|-RRB-|to/]+

      #required for non-standard units, e.g., s m-1


  ####UNIT RELATIONS####

  - name: var_unit_rel
    label: Unit
    priority: ${priority}
    type: token
    example: "T = daily mean air temperature [Â°C]"
    action: looksLikeAUnit
    pattern: |
      @variable:Variable [word=/.*/]+ [word="["] (?<unit> [word = /.*/]+) (?=[word="]"])
      #false positive: "In the second approach, Kc is split into two factors that separately describe the evaporation (Ke) and transpiration (Kcb) components."


